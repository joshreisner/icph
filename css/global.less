/* colors */
@beige		: #eae3d9;
@beige_dark : #d2cbc1;
@blue		: #5e7190;
@blue_light	: #d3d2d1;
@gray		: #383434;
@gray_light	: #948f89;
@green		: #8a9d44;
@orange		: #a3735f;
@purple		: #78558b;
@red		: #9c474e;
@white		: #ffffff;


/* mixins */
.font() {
	font-family: "BentonSans", Helvetica, sans-serif; font-style: normal; font-weight: normal;
}

.fontBold() {
	font-family: "BentonSans", Helvetica, sans-serif; font-style: normal; font-weight: bold;
}

.fontCondBold() {
	font-family: "BentonSansCond", Helvetica, sans-serif; font-style: normal; font-weight: bold;
}

.opacity(@opacity: 0.5) {
	@ieOpacity: @opacity * 100;
	   -moz-opacity: @opacity;
	 -khtml-opacity: @opacity;
	-webkit-opacity: @opacity;
	     -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=@{ieOpacity})";
	         filter: ~"alpha(opacity=@{ieOpacity})";
	        opacity: @opacity;
}

.shadowed(@x-axis: 0, @y-axis: 0px, @blur: 6px, @color: #000, @alpha: 0.6) {
	@hsla: hsla(hue(@color), saturation(@color), lightness(@color), @alpha);
	-webkit-box-shadow: @x-axis @y-axis @blur @hsla;
	   -moz-box-shadow: @x-axis @y-axis @blur @hsla;
	        box-shadow: @x-axis @y-axis @blur @hsla;
}


/* globals */
html {
	min-height: 100%;
	body {
		background-image: url(../img/background.png); margin: 0; .font; color: @gray;
		a { text-decoration: none; cursor: pointer; outline: none; }
		h1, h2, h3, h4 { margin: 0; padding: 0; }
		p { margin: 0 0 15px 0; }
	}
}


/* template */
header {
	background-color: @gray; .shadowed(); height: 48px; position: fixed; top: 0; left: 0; right: 0; .opacity(.8); z-index: 100;

	a { 
		color: @white; 
		&.logo {
			font-size: 28px; position: absolute; left: 20px; top: 6px; 
			span { .fontCondBold; }
		}
	}
	
	/* both menus */
	div.menu {
		ul {
			list-style-type: none; margin: 0; padding: 0; text-transform: uppercase; .fontCondBold;
			li { 
				float: left; padding: 0; margin: 0; display: block;
			}
		}
	}

	/* only the nav menu */
	#nav {
		position: absolute; right: 0; top: 5px; 
		li {
			padding: 0 20px 0 0; margin: 0 20px 0 0; height: 15px; 
			a { display: block; font-size: 18px; line-height: 18px; padding: 10px 0; }
			ul { display: none; }
			&:hover {
				a { color: @beige; border-bottom: 5px solid @beige; }
				ul { 
					display: block; .shadowed; position: absolute; top: 43px; background-image: url(../img/background.png); z-index: 20;
					li { 
						float: none; border-bottom: 1px solid @beige_dark; margin-right: 0; height: auto;
						a, a:hover {
							display: block; padding: 10px; text-transform: none; font-size: 12px; .font; color: @gray; border-bottom: none;
							div { .fontBold; }
						}
						&:hover { background-image: url(../img/background-dark.png); }
						&.early_ny div { color: @purple; }
						&.nineteenth div { color: @orange; }
						&.progressive div { color: @blue; }
						&.great_depression div { color: @red; }
						&.today div { color: @green; }
					}
				}
			}
			&.current_page_item a { color: @beige; border-bottom: 5px solid @beige; }
		}
	}
	
	/* only the sharing menu */
}

footer {
	overflow: auto; margin-bottom: 20px; 
	.copyright { float: left; margin-left: 20px; }
	.social { float: right; margin-right: 20px; }
}

/* pages */

#timeline {

	list-style-type: none; margin: 100px 0 0 0; padding: 0; font-size: 13px; overflow-x: auto; overflow-y: hidden; width: 1000000px; 

	h1 { font-size: 50px; .fontCondBold; }
	h2 { font-size: 29px; .fontCondBold; }

	li {
		width: 283px; margin: 0; padding: 0; border-left: 1px solid @beige; float: left; 

		.upper {
			height: 179px; position: relative;
			img { position: absolute; left: -62.5px; }
			h3 { font-weight: normal; position: absolute; bottom: 10px; left: 20px; font-size: 28px; }
		}
		
		.lower {
			background-image: url(../img/background-dark.png); padding: 20px; height: 460px;
			img { margin: -20px -20px 10px -20px; }
			p { margin: 0 0 10px 0; }
		}
		
		&.overview {
			border-left: 0; color: @white; .fontBold; line-height: 18px; width: 310px; font-size: 14px;
			&.progressive { 
				.upper { 
					h1 { position: absolute; bottom: 70px; left: 20px; }
					h2 { position: absolute; bottom: 17px; left: 20px; }
				}
				.lower { background-color: @blue; background-image: none; }
			}
		}
		&.featured {
			border-left: 0;
			&.progressive {
				.upper { }
				.lower { background-color: @blue_light; background-image: none; }
			}
		}

		&.progressive { 
			border-color: @blue; 
			h1, h2, h3 { color: @blue; } 
		}
		
	}
}
.timeline_mask { width: 100%; overflow: hidden; }

#slider {
	background-color: @gray_light; list-style: none; overflow: auto; color: @white; width: 980px; margin: 40px auto; padding: 5px; .shadowed; .fontCondBold; font-size: 16px;
	li { 
		width: 191px; float: left; border-top: 12px solid @gray_light; height: 40px; line-height: 40px; padding: 0 0 0 5px; cursor: pointer;
		&.early_ny		{ 
			border-color: @purple; 
			span { display: none; }
			&.active, &:hover {
				background-color: @purple; 
				span { display: inline; }
			}
		}
		&.nineteenth		{ 
			border-color: @orange; 
			span { display: none; }
			&.active, &:hover {
				background-color: @orange; 
				span { display: inline; }
			}
		}
		&.progressive		{ 
			border-color: @blue; 
			span { display: none; }
			&.active, &:hover {
				background-color: @blue; 
				span { display: inline; }
			}
		}
		&.great_depression		{ 
			border-color: @red; 
			span { display: none; }
			&.active, &:hover {
				background-color: @red; 
				span { display: inline; }
			}
		}
		&.today		{ 
			border-color: @green; 
			span { display: none; }
			&.active, &:hover {
				background-color: @green; 
				span { display: inline; }
			}
		}
	}
}

#overlay_backdrop { 
	background-color: #000; .opacity; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: 1040;
}

#overlay {
	width: 960px; background-color: @beige; background-image: url(../img/background.png); z-index: 1050;
	position: absolute; top: 48px; left: 50%; margin-left: -480px; min-height: 100%;
	
	div.header {
		position: relative; height: 97px; .fontCondBold; 
		h1, h2 { position: absolute; left: 20px; }
		h1 { top: 20px; }
		h2 { top: 60px; font-size: 18px; }
		a.close { text-transform: uppercase; top: 10px; right: 10px; font-size: 12px; position: absolute; color: @gray; }
		h3 { color: @white; margin: 0; height: 36px; line-height: 36px; position: absolute; bottom: 0; right: 0; width: 300px; padding: 0 0 0 20px; }
	}
	
	div.body {
		overflow: auto; 
		div.content {
			width: 640px; float: left; font-size: 14px; line-height: 18px;
			div.inner {
				padding: 10px 40px; 
				a { font-weight: bold; text-decoration: none; }
			}
		}
		div.navigation { 
			position: relative; width: 320px; float: left; font-size: 12px;
			ul {
				list-style: none; padding: 0; margin: 0; 
				li { 
					border-bottom: 1px solid @blue_light; border-left: 1px solid @blue_light; padding: 10px 20px;
					a { .fontBold; }
					p { margin: 0 0 0 0; }
				}
			}
		}
	}
	
	&.progressive {
		div.header { 
			background-color: @blue_light; 
			a { color: @blue; }
			h3 { background-color: @blue; }
		}
		div.body {
			a { color: @blue; }
		}
	}
}

#era {
	h3 { .fontCondBold; font-size: 30px; }
	
	.inner {
		overflow: auto; 
		.column {
			float: left; width: 460px; font-size: 13px;
			&.right { margin-left: 40px; }
		}
	}
	
	.row {
		&.header {
			height: 400px; padding-top: 48px;
			background-image: url(../img/placeholder/gordon-family-sample-large.png); background-size: cover;
			.inner {
				width: 460px; height: 360px; margin: 0 auto; .opacity(.8); color: @white; padding: 20px; position: relative;
				font-size: 14px; line-height: 18px; .fontBold;
				
				h1, h2 { text-align: center; }
				h1 { font-size: 76px; .fontCondBold; line-height: 100px; }
				h2 { font-size: 40px; .fontCondBold; line-height: 60px; }
				
				a {
					color: @white; .fontCondBold; text-transform: uppercase; position: absolute; bottom: 10px; font-size: 12px;
					&.left { left: 20px; }
					&.right { right: 20px; }
				}
			}
		}
		
		&.feature_policies {
			width: 100%;
			.inner {
				width: 960px; margin: 0 auto; padding: 40px 0;
				.column {

					h3 { margin-bottom: 20px; }
					&.feature {
						img { float: left; margin: 0 10px 10px 0; }
						p { margin: 0 0 20px 0; }
					}
					
					&.policies {

						ul {
							list-style: none; margin: 0; padding: 0; height: 300px; overflow-y: scroll;
							li {
								padding: 7px 0 0 0; 
								a { .fontBold; }
								&.heading { 
									color: @gray_light; text-transform: uppercase; .fontCondBold; border-bottom: 1px solid @gray_light; padding: 20px 0 5px 0; 
									&.first { padding-top: 0; }
								}
							}
						}
					}
				}
			}
		}
		
		&.map {
			background-image: url(../img/placeholder/era-map.jpg); background-size: cover; height: 150px; padding: 20px 0; position: relative;
			.inner {
				width: 960px; margin: 0 auto;
				
				a.more { position: absolute; bottom: 20px; text-transform: uppercase; .fontCondBold; font-size: 12px; }
			}
		}
		
		&.topics {
			color: @white; 
			h3, a { color: @white; }
			.inner { 
				width: 960px; margin: 0 auto; padding: 40px 0; 
				ul { 
					list-style: none; margin: 0; padding: 0;
					li { 
						float: left; text-align: center; width: 115px;
						a { display: block; text-transform: uppercase; .fontCondBold; }
						img { width: 115px; height: 115px; }
						&.center {
							margin: 0 57px 0 58px;
						}
					}
				}
			}
		}
		
		&.stats {
			margin-bottom: 40px; 
			.inner { 
				width: 960px; margin: 0 auto; padding: 40px 0;
				ul {
					list-style: none; margin: 0; padding: 0;
					li { 
						float: left; .fontCondBold; font-size: 16px;
						div { 
							display: inline-block; vertical-align: middle;
							&.stat { text-align: right; margin-right: 10px; width: 150px; }
						}
						&.center { margin: 0 20px; }
					}
				}
			}
		}
		
	}
	
	&.progressive {
		a, h3 { color: @blue; }
		.row {
			&.header .inner { background-color: @blue; }
			&.topics { background-color: @blue; }
			&.stats { background-color: @blue_light; color: @blue; }
		}
	}
}

body.maps {
	height: 100%; 
	iframe { width: 100%; height: 100%; }
	footer { display: none; }
}

#browse {
	width: 940px; margin: 0 auto; padding: 80px 0 40px 0; 
	
	.header {
		border-bottom: 1px solid @gray; margin-bottom: 40px; .fontCondBold; font-size: 18px; padding-bottom: 8px;
		a { 
			color: @gray_light; margin-left: 20px; padding-bottom: 8px; 
			&.active { border-bottom: 4px solid @gray; padding-bottom: 4px; color: @gray; }
		}
	}
	
	.row {
		h3 { 
			.fontCondBold; font-size: 33px; color: @gray_light; margin-bottom: 10px; border-top: 1px solid @gray; padding-top: 10px; cursor: pointer; 
			&.first { border-top: 0; }
		}
		
		ul {
			list-style: none; margin: 0 0 0 -20px; padding: 0; font-size: 12px; overflow: auto; display: none;
			li { 
				width: 280px; margin: 0 0 20px 20px; padding: 10px; background-image: url(../img/background-dark.png); float: left;
				
				img { float: left; margin-right: 10px; width: 100px; height: 100px; display: block; }
				
				div {
					float: left; width: 160px;
					h4 { 
						.fontCondBold; text-transform: uppercase; margin-bottom: 10px; 
						&.early_ny			{ color: @purple; }
						&.nineteenth		{ color: @orange; }
						&.progressive		{ color: @blue; }
						&.great_depression	{ color: @red; }
						&.today				{ color: @green; }
					}
					a { .fontBold; color: @gray; }
				}
			}
		}
	}
}